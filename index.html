<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WEGsecurity — Protocolo de Cibersegurança (Apresentação)</title>
  <style>
    /* ===== Deck minimalista — branco, vermelho, preto (estilo Cinnamon/XFCE, sem firula) ===== */
    :root{ --bg:#ffffff; --ink:#111111; --muted:#5a5a5a; --accent:#e30613; --line:#e9e9e9; }
    html,body{height:100%; margin:0}
    body{font:17px/1.55 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Noto Sans", Arial, sans-serif; color:var(--ink); background:var(--bg); -webkit-font-smoothing:antialiased}
    h1,h2,h3{margin:0 0 .4em}
    h1{font-size: clamp(36px, 6vw, 56px); line-height:1.05}
    h2{font-size: clamp(22px, 3.4vw, 32px)}
    p{margin:.5em 0}
    ul{margin:.4em 0; padding-left:1.1em}
    li{margin:.3em 0}
    strong{font-weight:800}
    .accent{color:var(--accent)}
    .muted{color:var(--muted)}

    /* Slides */
    .deck{position:relative}
    .slide{height:100vh; width:100vw; display:flex; align-items:center; justify-content:center;}
    .wrap{width:min(1080px, 88vw); padding:0 4vw}
    .row{display:grid; grid-template-columns:1.3fr .9fr; gap:24px}

    /* Divisor reto */
    .divider{height:2px; background:var(--ink); width:56px; margin:18px 0}

    /* HUD & marca */
    .hud{position:fixed; top:10px; right:16px; z-index:50; font-weight:800; letter-spacing:.3px; color:#000; background:#fff; border:1px solid var(--line); padding:6px 10px}
    .brand{position:fixed; top:10px; left:16px; z-index:50; display:flex; align-items:center; gap:10px; font-weight:900; letter-spacing:.2px}
    .brand .mark{display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border:2px solid var(--ink); color:var(--ink)}

    /* Controles */
    .controls{position:fixed; bottom:18px; right:18px; display:flex; gap:8px; z-index:50}
    .btn{border:1px solid var(--ink); background:var(--ink); color:#fff; padding:8px 12px; font-weight:700}
    .btn.ghost{background:#fff; color:var(--ink)}

    /* Overview */
    .overview{position:fixed; inset:0; background:rgba(0,0,0,.75); display:none; align-items:center; justify-content:center; z-index:60}
    .overview.open{display:flex}
    .grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:16px; width:min(1200px,92vw)}
    .thumb{background:#fff; border:1px solid var(--line); height:180px; overflow:hidden; cursor:pointer}
    .thumb .mini{transform:scale(.25); transform-origin: top left; width:400%; height:400%}

    /* Cartões de número (KPIs) */
    .cards{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    .card{border:1px solid var(--line); padding:14px}
    .card h3{font-size:18px; margin:0 0 6px}
    .num{font-size:34px; font-weight:900}

    /* Áreas de gráfico */
    .charts{display:grid; grid-template-columns:1.5fr 1fr; gap:16px}
    .chart{border:1px solid var(--line); padding:10px}
    .chart h3{font-size:16px; margin:0 0 8px}
    svg{display:block; width:100%; height:280px}
    .legend{display:flex; gap:14px; font-size:13px; margin-top:6px}
    .sw{display:inline-block; width:12px; height:12px; background:var(--ink); margin-right:6px}
    .sw.red{background:var(--accent)}

    /* Impressão */
    @media print{ .hud,.brand,.controls,.overview{display:none!important} .slide{page-break-after:always} body{margin:0} }
  </style>
</head>
<body>
  <div class="brand"><span class="mark">WS</span> WEGsecurity</div>
  <div class="hud" id="hud">1 / 11</div>

  <div class="deck" id="deck">
    <!-- 0. CAPA -->
    <section class="slide" data-title="Capa">
      <div class="wrap">
        <div class="row">
          <div>
            <div class="muted">Protocolo de Cibersegurança — SCADA (Fábrica de Alimentos)</div>
            <h1><span class="accent">WEGsecurity</span> — Protocolo de Cibersegurança</h1>
            <div class="divider"></div>
            <p class="muted">Controles de identidade e acesso — <strong>RBAC</strong> (controle de acesso por função) e <strong>MFA</strong> (autenticação em múltiplos fatores) — trilhas de auditoria <strong>WORM</strong> (gravação única, leitura múltipla), arquitetura <strong>OT</strong>/<strong>TI</strong> (tecnologia operacional / de informação) segmentada e processos de <strong>MOC</strong> (gestão de mudanças) para eliminar contas compartilhadas.</p>
            <p><strong>Autores:</strong> Ryhan • Brian • Vinicius</p>
          </div>
          <div style="display:flex; align-items:center; justify-content:center">
            <img src="https://i.postimg.cc/yNgBmfNt/Design-sem-nome.png" alt="Livrete WEGsecurity" style="max-width:360px; width:100%; border:1px solid var(--line)"/>
          </div>
        </div>
      </div>
    </section>

    <!-- 1. DIAGNÓSTICO -->
    <section class="slide" id="diagnostico" data-title="Diagnóstico">
      <div class="wrap">
        <h2>1) Diagnóstico — O que aconteceu e por quê</h2>
        <div class="divider"></div>
        <p class="muted">Alterações sem autoria individual, sem barreiras em setpoints críticos e auditoria incompleta.</p>
        <ul>
          <li>Conta compartilhada → logs sem autoria 1:1; <strong>RBAC</strong> (controle por função) ausente/fraco.</li>
          <li>Sem dupla aprovação (4-olhos) para mudanças de receita/setpoint.</li>
          <li>Auditoria incompleta (antes↔depois, estação, hora) e modo engenharia acessível em produção.</li>
          <li>Processo: política de credenciais tolerante; sem <strong>MOC</strong> (gestão de mudanças); handover fraco; donos indefinidos.</li>
        </ul>
      </div>
    </section>

    <!-- 2. AÇÕES IMEDIATAS -->
    <section class="slide" id="acoes" data-title="Ações 0–72h">
      <div class="wrap">
        <h2>2) Ações imediatas (0–72h)</h2>
        <div class="divider"></div>
        <h3>0–8h — Conter & preservar evidências</h3>
        <ul>
          <li>Congelar parâmetros/receita e parar a linha impactada.</li>
          <li>Exportar logs (SCADA/historian/<strong>PLC</strong> — controlador lógico programável / SO) + snapshots.</li>
          <li>Desabilitar a conta compartilhada; criar logins individuais temporários.</li>
          <li>Quarentena dos lotes; QA decide destino.</li>
        </ul>
        <h3>8–24h — Comunicação & recuperação</h3>
        <ul>
          <li>Abrir incidente; notificar gestão/qualidade; cronologia.</li>
          <li>Reverter alterações não aprovadas (receita “golden”).</li>
          <li>Rastrear provável autor (CCTV, crachá, escala, estação).</li>
        </ul>
        <h3>24–72h — Após estabilizar</h3>
        <ul>
          <li>5 Porquês + Ishikawa (raiz) e plano de reentrega.</li>
          <li>Cálculo de perdas e medidas disciplinares proporcionais.</li>
        </ul>
      </div>
    </section>

    <!-- 3. PLANO TÉCNICO: IDENTIDADE & ACESSO -->
    <section class="slide" id="plano1" data-title="Plano técnico — Identidade & Acesso">
      <div class="wrap">
        <h2>3) Plano técnico (30–90 dias) — Identidade & Acesso</h2>
        <div class="divider"></div>
        <ul>
          <li>Proibir contas compartilhadas (1 pessoa = 1 conta; termo de responsabilidade).</li>
          <li><strong>RBAC</strong> por papel (Operador, Manutenção, Engenharia, Admin <strong>OT</strong>/<strong>TI</strong>).</li>
          <li>Dupla aprovação (4-olhos) para mudanças críticas no SCADA/<strong>HMI</strong> (interface homem‑máquina).</li>
          <li><strong>MFA</strong> (múltiplos fatores), auto-logoff, rotação de senhas.</li>
          <li><strong>PAM</strong> (gestão de acessos privilegiados) para contas de alto risco.</li>
        </ul>
      </div>
    </section>

    <!-- 4. PLANO TÉCNICO: AUDITORIA & CONFIG -->
    <section class="slide" id="plano2" data-title="Plano técnico — Auditoria & Config">
      <div class="wrap">
        <h2>Plano técnico — Auditoria & Configuração</h2>
        <div class="divider"></div>
        <ul>
          <li>Logs <strong>WORM</strong> (imutáveis): usuário, estação, data/hora, registro antes→depois.</li>
          <li>Alarmes: mudança não autorizada; Eng. Mode em produção.</li>
          <li>Versionamento de receitas/configs (<strong>HMI</strong>/<strong>PLC</strong>) com revisão.</li>
          <li>Backups + teste periódico de restauração.</li>
        </ul>
      </div>
    </section>

    <!-- 5. PLANO TÉCNICO: ARQUITETURA -->
    <section class="slide" id="plano3" data-title="Plano técnico — Arquitetura">
      <div class="wrap">
        <h2>Plano técnico — Arquitetura e acesso de engenharia</h2>
        <div class="divider"></div>
        <ul>
          <li><strong>HMI</strong> read‑only em produção; engenharia via jump server.</li>
          <li>Segmentação <strong>OT</strong> (zonas/condutos), <strong>ACLs</strong> (listas de controle de acesso); estações de engenharia isoladas/endurecidas.</li>
        </ul>
      </div>
    </section>

    <!-- 6. PROCESSOS & CULTURA -->
    <section class="slide" id="processos" data-title="Processos & Cultura">
      <div class="wrap">
        <h2>4) Processos & Cultura</h2>
        <div class="divider"></div>
        <ul>
          <li>Política de credenciais (proibição e sanções).</li>
          <li><strong>MOC</strong> obrigatório (risco, janela, rollback, aprovações).</li>
          <li>Handover padronizado (livro digital assinado); treinamento trimestral por perfil.</li>
          <li>Governança: RACI claro e auditorias programadas.</li>
        </ul>
      </div>
    </section>

    <!-- 7. KPIs -->
    <section class="slide" id="kpis" data-title="KPIs & testes">
      <div class="wrap">
        <h2>5) Como verificar — KPIs & testes</h2>
        <div class="divider"></div>
        <div class="cards">
          <div class="card"><h3>Contas individuais</h3><div class="num" id="n1">0%</div><div class="muted">Meta: 100% até D+30</div></div>
          <div class="card"><h3>Mudanças com 2 aprovações</h3><div class="num" id="n2">0%</div><div class="muted">Meta: ≥95% até D+60</div></div>
          <div class="card"><h3>Acessos via conta genérica</h3><div class="num" id="n3">0</div><div class="muted">Meta: 0 até D+30</div></div>
        </div>
      </div>
    </section>

    <!-- 8. DADOS HIPOTÉTICOS (cards + gráfico) -->
    <section class="slide" id="dados" data-title="Dados (hipotéticos)">
      <div class="wrap">
        <h2>6) Dados — evolução (hipotéticos)</h2>
        <div class="divider"></div>
        <p class="muted">Exemplo para fins didáticos (não são dados reais).</p>
        <div class="charts">
          <div class="chart">
            <h3>Linha do tempo — Adoção de controles</h3>
            <svg id="line"></svg>
            <div class="legend"><span><i class="sw red"></i>Contas individuais</span><span><i class="sw"></i>2 aprovações</span></div>
          </div>
          <div class="chart">
            <h3>Distribuição de perfis de acesso</h3>
            <svg id="donut"></svg>
          </div>
        </div>
        <div class="chart" style="margin-top:16px">
          <h3>Barra — Mudanças não autorizadas por mês</h3>
          <svg id="bars"></svg>
        </div>
      </div>
    </section>

    <!-- 9. GLOSSÁRIO DE SIGLAS -->
    <section class="slide" id="siglas" data-title="Glossário (siglas)">
      <div class="wrap">
        <h2>7) Glossário — siglas usadas</h2>
        <div class="divider"></div>
        <ul>
          <li><strong>RBAC</strong> — Role‑Based Access Control (controle de acesso por função).</li>
          <li><strong>MFA</strong> — Multi‑Factor Authentication (autenticação em múltiplos fatores).</li>
          <li><strong>WORM</strong> — Write Once, Read Many (gravação única, leitura múltipla / logs imutáveis).</li>
          <li><strong>MOC</strong> — Management of Change (gestão de mudanças).</li>
          <li><strong>HMI</strong> — Human‑Machine Interface (interface homem‑máquina).</li>
          <li><strong>PLC</strong> — Programmable Logic Controller (controlador lógico programável).</li>
          <li><strong>OT</strong>/<strong>TI</strong> — Tecnologia Operacional / Tecnologia da Informação.</li>
          <li><strong>ACL</strong> — Access Control List (lista de controle de acesso).</li>
          <li><strong>PAM</strong> — Privileged Access Management (gestão de acessos privilegiados).</li>
        </ul>
      </div>
    </section>

    <!-- 10. ENTREGÁVEIS / ANEXOS -->
    <section class="slide" id="entregaveis" data-title="Entregáveis & Anexos">
      <div class="wrap">
        <h2>8) Entregáveis & Anexos</h2>
        <div class="divider"></div>
        <ul>
          <li>Política de credenciais + Matriz <strong>RBAC</strong>.</li>
          <li>Procedimento <strong>MOC</strong> + formulário padrão.</li>
          <li>Livro de Turno (modelo) e POP de handover.</li>
          <li>Plano de Logs <strong>WORM</strong> & Retenção; Playbook de Incidente (0–72h).</li>
          <li>Checklist de Auditoria + Relatório mensal de KPIs.</li>
        </ul>
      </div>
    </section>
  </div>

  <!-- Controles -->
  <div class="controls">
    <button class="btn ghost" id="prev">←</button>
    <button class="btn" id="next">→</button>
  </div>

  <!-- Overview grid -->
  <div class="overview" id="overview">
    <div class="grid" id="thumbs"></div>
  </div>

  <script>
    // ===== Navegação de slides =====
    const deck=document.getElementById('deck');
    const slides=[...deck.querySelectorAll('.slide')];
    let idx=0;
    function show(i){ idx=Math.max(0, Math.min(i, slides.length-1)); scrollTo(0, slides[idx].offsetTop); document.getElementById('hud').textContent=`${idx+1} / ${slides.length}`; }
    function next(){ show(idx+1); }
    function prev(){ show(idx-1); }
    document.getElementById('next').onclick=next;
    document.getElementById('prev').onclick=prev;
    document.addEventListener('keydown', (e)=>{
      const k=e.key.toLowerCase();
      if(['arrowright','pagedown',' '].includes(k)){ e.preventDefault(); next(); }
      if(['arrowleft','pageup'].includes(k)){ e.preventDefault(); prev(); }
      if(k==='g'){ toggleOverview(); }
      if(k==='b'){ document.body.style.background = document.body.style.background ? '' : '#000'; }
      if(k==='home'){ show(0); }
      if(k==='end'){ show(slides.length-1); }
      if(k==='p'){ window.print(); }
    });
    window.addEventListener('load',()=>show(0));
    window.addEventListener('scroll',()=>{ const y=window.scrollY; idx=slides.findIndex(s=>s.offsetTop<=y+10 && s.offsetTop+s.offsetHeight>y+10); document.getElementById('hud').textContent=`${idx+1} / ${slides.length}`; });

    // ===== Overview (G) =====
    const overlay=document.getElementById('overview');
    const thumbs=document.getElementById('thumbs');
    function buildThumbs(){ thumbs.innerHTML=''; slides.forEach((s,i)=>{ const t=document.createElement('div'); t.className='thumb'; const mini=s.cloneNode(true); mini.classList.add('mini'); t.appendChild(mini); t.onclick=()=>{ toggleOverview(false); show(i); }; thumbs.appendChild(t); }); }
    function toggleOverview(force){ if(force===false){ overlay.classList.remove('open'); return; } overlay.classList.toggle('open'); }
    buildThumbs();

    // ===== KPIs animados (hipotéticos) =====
    function animate(el, end, suffix=''){ const start=0; const dur=900; let t0=null; const step=(t)=>{ if(!t0) t0=t; const p=Math.min((t-t0)/dur,1); el.textContent = (suffix==='%'? Math.round(start+(end-start)*p): Math.round(start+(end-start)*p)) + suffix; if(p<1) requestAnimationFrame(step); }; requestAnimationFrame(step); }
    window.addEventListener('load',()=>{ animate(document.getElementById('n1'), 100, '%'); animate(document.getElementById('n2'), 95, '%'); animate(document.getElementById('n3'), 0, ''); });

    // ===== Gráficos SVG (dados hipotéticos) =====
    const labels=['D0','D+30','D+60','D+90'];
    const contasInd=[34,78,96,100];
    const duasApr=[5,68,85,96];
    const naoAut=[3,1,0,0];
    const perfis=[{label:'Operador', val:60},{label:'Manutenção', val:15},{label:'Engenharia', val:15},{label:'Admin', val:10}];

    function lineChart(el, seriesArr){
      const w=el.clientWidth||600, h=280, pad=36; const xs=(w-pad*2)/(labels.length-1), ys=(h-pad*2)/100;
      const svg = d3(el,w,h);
      // eixos
      svg.line(pad,h-pad, w-pad,h-pad, '#000'); svg.line(pad,pad, pad,h-pad, '#000');
      labels.forEach((lb,i)=>{ const x=pad+i*xs; svg.text(lb, x, h-pad+18, 'middle', '12px'); svg.line(x, h-pad-4, x, h-pad+4, '#000'); });
      // séries
      seriesArr.forEach((s)=>{ let d=""; s.data.forEach((v,i)=>{ const x=pad+i*xs; const y=h-pad - v*ys; d += (i?"L":"M")+x+","+y; }); svg.path(d, s.color, 2); s.data.forEach((v,i)=>{ const x=pad+i*xs; const y=h-pad - v*ys; svg.circle(x,y,3,s.color); }); });
    }
    function barChart(el, data){
      const w=el.clientWidth||600, h=280, pad=36; const bw=28; const gap=((w-pad*2)-(bw*data.length))/(data.length-1);
      const max=Math.max(...data,5); const ys=(h-pad*2)/max;
      const svg=d3(el,w,h);
      svg.line(pad,h-pad, w-pad,h-pad, '#000'); svg.line(pad,pad, pad,h-pad, '#000');
      data.forEach((v,i)=>{ const x=pad+i*(bw+gap); const y=h-pad - v*ys; svg.rect(x, y, bw, v*ys, i===0? '#e30613':'#111'); svg.text(labels[i], x+bw/2, h-pad+18, 'middle','12px'); svg.text(v, x+bw/2, y-6, 'middle','12px'); });
    }
    function donutChart(el, parts){
      const w=el.clientWidth||480, h=280; const r=Math.min(w,h)/2 - 10; const cx=w/2, cy=h/2; const svg=d3(el,w,h);
      let ang= -Math.PI/2; const total=parts.reduce((a,b)=>a+b.val,0);
      const cols=['#e30613','#111','#666','#bbb'];
      parts.forEach((p,i)=>{ const a= (p.val/total)*Math.PI*2; const x1=cx + r*Math.cos(ang), y1=cy + r*Math.sin(ang); const x2=cx + r*Math.cos(ang+a), y2=cy + r*Math.sin(ang+a); const large=a>Math.PI?1:0; const d=`M ${cx} ${cy} L ${x1} ${y1} A ${r} ${r} 0 ${large} 1 ${x2} ${y2} Z`; svg.path(d, cols[i%cols], 0, true); ang+=a; });
      // buraco
      svg.circle(cx,cy, r*0.55, '#fff', true);
      // legenda rápida
      let y=cy+r+18; parts.forEach((p,i)=>{ svg.rect(20,y-10,12,12, cols[i%cols], true); svg.text(`${p.label}: ${p.val}%`, 40, y, 'start','12px'); y+=16; });
    }
    // mini lib para svg
    function d3(el,w,h){ const ns='http://www.w3.org/2000/svg'; const svg=document.createElementNS(ns,'svg'); svg.setAttribute('viewBox',`0 0 ${w} ${h}`); el.innerHTML=''; el.appendChild(svg);
      function path(d, color, width=1, fill=false){ const p=document.createElementNS(ns,'path'); p.setAttribute('d',d); if(fill){ p.setAttribute('fill',color);} else { p.setAttribute('fill','none'); p.setAttribute('stroke',color); p.setAttribute('stroke-width',width);} svg.appendChild(p); return p; }
      function line(x1,y1,x2,y2,color){ const l=document.createElementNS(ns,'line'); l.setAttribute('x1',x1); l.setAttribute('y1',y1); l.setAttribute('x2',x2); l.setAttribute('y2',y2); l.setAttribute('stroke',color); svg.appendChild(l); return l; }
      function circle(x,y,r,color,fill=false){ const c=document.createElementNS(ns,'circle'); c.setAttribute('cx',x); c.setAttribute('cy',y); c.setAttribute('r',r); if(fill){ c.setAttribute('fill',color);} else { c.setAttribute('fill','#fff'); c.setAttribute('stroke',color);} svg.appendChild(c); return c; }
      function rect(x,y,w,h,color,fill=false){ const r=document.createElementNS(ns,'rect'); r.setAttribute('x',x); r.setAttribute('y',y); r.setAttribute('width',w); r.setAttribute('height',h); if(fill){ r.setAttribute('fill',color);} else { r.setAttribute('fill',color); } svg.appendChild(r); return r; }
      function text(t,x,y,anchor='start',size='14px'){ const tx=document.createElementNS(ns,'text'); tx.textContent=t; tx.setAttribute('x',x); tx.setAttribute('y',y); tx.setAttribute('text-anchor',anchor); tx.setAttribute('font-size',size); svg.appendChild(tx); return tx; }
      return {svg, path, line, circle, rect, text}; }

    // render charts when slide comes into view
    const obs=new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){
        if(e.target.id==='dados'){ lineChart(document.getElementById('line'), [{data:contasInd, color:'#e30613'},{data:duasApr, color:'#111'}]); donutChart(document.getElementById('donut'), perfis); barChart(document.getElementById('bars'), naoAut); obs.disconnect(); }
      }});
    }, {threshold:0.4});
    obs.observe(document.getElementById('dados'));
  </script>
</body>
</html>